<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Groupie Tracker</title>
    <link rel="stylesheet" href="static/styles.css">
</head>

<body>

    <div class="container">
        <!-- Header with Title -->
        <header>
            <h1>Groupie Tracker</h1>
        </header>

        <!-- Search Bar -->
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Search for artists..." onkeyup="searchArtists()">
        </div>

        <!-- Artist Cards Grid -->
        <div class="artist-grid">
            {{ range .Artists }}
                <div class="artist-card" onclick="flipCard(this)">
                    <div class="card-inner">
                        <div class="card-front">
                            <div class="artist-name">{{ .Name }}</div>
                            <div class="artist-image" style="background-image: url('{{ .Image }}');"></div>
                            <div class="artist-info">
                                <p>Year Established: <strong>{{ .CreationDate }}</strong></p>
                                <p>First Album: <strong>{{ .FirstAlbum }}</strong></p>
                                <p>Members: <strong>{{ len .Members }}</strong></p>
                            </div>
                        </div>
                        <div class="card-members">
                            <p><strong>Members</strong></p>
                            <p>{{ .Members }}</p>
                            <!-- Add more details as needed for the backside -->
                        </div>
                        <div class="card-locations">
                            <p>Locations</p>
                        </div>
                    </div>
                </div>
            {{ end }}
        </div>
    </div>
        
</body>
<script>
    function handleCardClick(artistName) {
        console.log("Clicked on artist:", artistName);
        // Add your custom logic here, like navigating or displaying additional info
    }
    </script>
<script>
    const cardStates = [];

    document.addEventListener("DOMContentLoaded", () => {
        const cards = document.querySelectorAll(".artist-card");
        cards.forEach((card, index) => {
            cardStates[index] = 0; // Initialize each card's state to 0 (front)
            card.addEventListener("click", () => flipCard(card, index));
        });
    });

    function flipCard(cardElement, index) {
        let flipCount = cardStates[index];
        flipCount = (flipCount + 1) % 3; // Cycle through 0, 1, and 2
        cardStates[index] = flipCount;

        const cardInner = cardElement.querySelector(".card-inner");
        const front = cardElement.querySelector(".card-front");
        const members = cardElement.querySelector(".card-members");
        const locations = cardElement.querySelector(".card-locations");

        // Reset opacity for all faces
        front.style.opacity = "0";
        members.style.opacity = "0";
        locations.style.opacity = "0";

        // Apply transforms and opacity based on flip count
        if (flipCount === 0) {
            cardInner.style.transform = "rotateY(0deg)"; // Show front
            front.style.opacity = "1";
        } else if (flipCount === 1) {
            cardInner.style.transform = "rotateY(180deg)"; // Show back 1 (Members)
            members.style.opacity = "1";
        } else {
            cardInner.style.transform = "rotateY(270deg)"; // Show back 2 (Locations)
            locations.style.opacity = "1";
        }
    }
</script>

</html>

